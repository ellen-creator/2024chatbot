<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‹¹ì‹ ì˜ 2024ë¥¼ ëŒì•„ë³´ì•„ìš”</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        // Function to load CSS with cache busting
        function loadCSS(filename) {
            var link = document.createElement('link');
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = filename + '?v=' + new Date().getTime();
            document.head.appendChild(link);
        }
        // Load the CSS file
        loadCSS("{{ url_for('static', filename='css/styles.css') }}");
    </script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</head>
<body>
    
    
    <h1>2024 í¬ë¦¬ìŠ¤ë§ˆìŠ¤ ì—°ë§ì •ì‚°</h1>

    <form method="POST" id="surveyForm">
        <label for="category">ì§ˆë¬¸ì˜ í† í”½ì´ì—ìš”:</label>
        <select name="category" id="category">
            <option value="ì¼ë°˜" {% if current_category == "ì¼ë°˜" %}selected{% endif %}>ì¼ë°˜</option>
            <option value="ì·¨ë¯¸" {% if current_category == "ì·¨ë¯¸" %}selected{% endif %}>ì·¨ë¯¸</option>
            <option value="ì—¬í–‰" {% if current_category == "ì—¬í–‰" %}selected{% endif %}>ì—¬í–‰</option>
            <option value="ì§ì—…" {% if current_category == "ì§ì—…" %}selected{% endif %}>ì§ì—…</option>
            <option value="ìŒì•…" {% if current_category == "ìŒì•…" %}selected{% endif %}>ìŒì•…</option>
            <option value="ì• ì •" {% if current_category == "ì• ì •" %}selected{% endif %}>ì• ì •</option>
        </select>

        <p id="questionDisplay">ì§ˆë¬¸: {{ question }}</p>
        <input type="hidden" name="current_question" value="{{ question }}">

        <label for="user_input">ë‹µë³€:</label>
        <input type="text" name="user_input" id="user_input" required>
        <button type="submit">ë‹µë³€</button>
    </form>

    <hr>

    <h2>ëŒ€í™” ê¸°ë¡</h2>
    <ul id="responseList">
        {% for response in responses %}
            <li>[{{ response["ì¹´í…Œê³ ë¦¬"] }}] ì§ˆë¬¸: {{ response["ì§ˆë¬¸"] }} - ë‹µë³€: {{ response["ì‘ë‹µ"] }}</li>
        {% endfor %}
    </ul>

    <hr>

    <button id="downloadPDFButton">PDFë¡œ ì €ì¥í•´ë³´ì„¸ìš”</button>

    <button id="playButton" style="font-size: 24px;">ğŸ„ for your mood </button>
    <audio id="backgroundMusic" loop>
        <source src="{{ url_for('static', filename='music/song.mp3') }}" type="audio/mp3">
    </audio>
    
    <div id="completionMessage" style="display: none;">
        <h2>ì§ˆë¬¸ì„ ëª¨ë‘ ì†Œì§„í–ˆì–´ìš”!</h2>
        <p>ë‹¹ì‹ ì˜ 2025ë…„ì€ ë” í–‰ë³µí•˜ê¸°ë¥¼!</p>
    </div>

    <ul class="lightrope">
        <!-- Light rope list items -->
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>

        <!-- Repeat <li></li> as needed -->
    </ul>


    <style>
        /* customizable snowflake styling */
        .snowflake {
          color: #fff;
          font-size: 1em;
          font-family: Arial, sans-serif;
          text-shadow: 0 0 5px #000;
        }
         
        .snowflake,.snowflake .inner{animation-iteration-count:infinite;animation-play-state:running}@keyframes snowflakes-fall{0%{transform:translateY(0)}100%{transform:translateY(110vh)}}@keyframes snowflakes-shake{0%,100%{transform:translateX(0)}50%{transform:translateX(80px)}}.snowflake{position:fixed;top:-10%;z-index:9999;-webkit-user-select:none;user-select:none;cursor:default;animation-name:snowflakes-shake;animation-duration:3s;animation-timing-function:ease-in-out}.snowflake .inner{animation-duration:10s;animation-name:snowflakes-fall;animation-timing-function:linear}.snowflake:nth-of-type(0){left:1%;animation-delay:0s}.snowflake:nth-of-type(0) .inner{animation-delay:0s}.snowflake:first-of-type{left:10%;animation-delay:1s}.snowflake:first-of-type .inner,.snowflake:nth-of-type(8) .inner{animation-delay:1s}.snowflake:nth-of-type(2){left:20%;animation-delay:.5s}.snowflake:nth-of-type(2) .inner,.snowflake:nth-of-type(6) .inner{animation-delay:6s}.snowflake:nth-of-type(3){left:30%;animation-delay:2s}.snowflake:nth-of-type(11) .inner,.snowflake:nth-of-type(3) .inner{animation-delay:4s}.snowflake:nth-of-type(4){left:40%;animation-delay:2s}.snowflake:nth-of-type(10) .inner,.snowflake:nth-of-type(4) .inner{animation-delay:2s}.snowflake:nth-of-type(5){left:50%;animation-delay:3s}.snowflake:nth-of-type(5) .inner{animation-delay:8s}.snowflake:nth-of-type(6){left:60%;animation-delay:2s}.snowflake:nth-of-type(7){left:70%;animation-delay:1s}.snowflake:nth-of-type(7) .inner{animation-delay:2.5s}.snowflake:nth-of-type(8){left:80%;animation-delay:0s}.snowflake:nth-of-type(9){left:90%;animation-delay:1.5s}.snowflake:nth-of-type(9) .inner{animation-delay:3s}.snowflake:nth-of-type(10){left:25%;animation-delay:0s}.snowflake:nth-of-type(11){left:65%;animation-delay:2.5s}
        </style>
        <div class="snowflakes" aria-hidden="true">
          <div class="snowflake">
            <div class="inner">â…</div>
          </div>
          <div class="snowflake">
            <div class="inner">â…</div>
          </div>
          <div class="snowflake">
            <div class="inner">â…</div>
          </div>
          <div class="snowflake">
            <div class="inner">â…</div>
          </div>
          <div class="snowflake">
            <div class="inner">â…</div>
          </div>
          <div class="snowflake">
            <div class="inner">â…</div>
          </div>
          <div class="snowflake">
            <div class="inner">â…</div>
          </div>
          <div class="snowflake">
            <div class="inner">â…</div>
          </div>
          <div class="snowflake">
            <div class="inner">â…</div>
          </div>
          <div class="snowflake">
            <div class="inner">â…</div>
          </div>
          <div class="snowflake">
            <div class="inner">â…</div>
          </div>
          <div class="snowflake">
            <div class="inner">â…</div>
          </div>
        </div>

</body>
</html>
